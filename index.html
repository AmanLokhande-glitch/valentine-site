<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Valentine?</title>
  <style>
    :root {
      --bg1: #ffdde1;
      --bg2: #ee9ca7;
      --card: rgba(255,255,255,.75);
      --text: #3b1b2a;
      --yes: #ff3b7a;
      --yes2:#ff5c93;
      --no:#444;
    }
    * { box-sizing: border-box; }
    body {
      margin: 0;
      min-height: 100vh;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Apple Color Emoji","Segoe UI Emoji";
      color: var(--text);
      background: radial-gradient(circle at 20% 20%, var(--bg1), var(--bg2));
      display: grid;
      place-items: center;
      overflow: hidden;
    }
    .hearts {
      position: absolute; inset: 0;
      pointer-events: none;
      opacity: .35;
      background-image:
        radial-gradient(circle at 10% 20%, #fff 0 1px, transparent 2px),
        radial-gradient(circle at 70% 80%, #fff 0 1px, transparent 2px),
        radial-gradient(circle at 40% 60%, #fff 0 1px, transparent 2px),
        radial-gradient(circle at 80% 30%, #fff 0 1px, transparent 2px);
      background-size: 220px 220px;
      animation: drift 14s linear infinite;
    }
    @keyframes drift {
      from { transform: translateY(0); }
      to { transform: translateY(40px); }
    }
    .card {
      width: min(720px, 92vw);
      padding: clamp(18px, 4vw, 36px);
      border-radius: 24px;
      background: var(--card);
      backdrop-filter: blur(10px);
      box-shadow: 0 20px 60px rgba(0,0,0,.18);
      position: relative;
    }
    .badge {
      display: inline-flex;
      gap: 8px;
      align-items: center;
      padding: 8px 12px;
      border-radius: 999px;
      background: rgba(255,255,255,.65);
      font-weight: 600;
      font-size: 14px;
    }
    h1 {
      margin: 14px 0 10px;
      font-size: clamp(28px, 4.8vw, 46px);
      line-height: 1.08;
      letter-spacing: -0.02em;
    }
    p {
      margin: 0 0 18px;
      font-size: clamp(16px, 2.4vw, 20px);
      opacity: .9;
    }
    .name {
      display: inline-block;
      padding: 0 10px;
      border-radius: 12px;
      background: rgba(255,59,122,.14);
    }

    /* IMPORTANT: no "position: relative" here, so the NO button isn't trapped */
    .row {
      display: flex;
      gap: 14px;
      flex-wrap: wrap;
      align-items: center;
      margin-top: 18px;
      min-height: 64px;
    }

    button {
      border: 0;
      cursor: pointer;
      font-weight: 800;
      padding: 14px 18px;
      border-radius: 16px;
      font-size: 18px;
      transition: transform .08s ease, filter .2s ease;
      user-select: none;
      -webkit-tap-highlight-color: transparent;
    }
    button:active { transform: scale(.98); }

    .yes {
      background: linear-gradient(135deg, var(--yes), var(--yes2));
      color: white;
      box-shadow: 0 14px 30px rgba(255,59,122,.35);
    }
    .yes:hover { filter: brightness(1.05); }

    .no {
      background: rgba(0,0,0,.08);
      color: var(--no);
    }

    .tiny {
      margin-top: 14px;
      font-size: 13px;
      opacity: .75;
    }

    .screen { display: none; }
    .screen.active { display: block; }

    .plan {
      margin-top: 14px;
      padding: 16px;
      border-radius: 18px;
      background: rgba(255,255,255,.65);
    }
    .plan ul { margin: 10px 0 0 18px; padding: 0; }
    .plan li { margin: 6px 0; }

    .footer {
      margin-top: 18px;
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
    }
    .linkbtn {
      background: rgba(255,255,255,.7);
      font-weight: 700;
    }
  </style>
</head>
<body>
  <div class="hearts"></div>

  <main class="card" aria-live="polite">
    <!-- SCREEN 1 -->
    <section id="screen-ask" class="screen active">
      <div class="badge">üíå A tiny question for <span class="name" id="herName">you</span></div>
      <h1>Will you be my Valentine? üíò</h1>
      <p>
        I was going to write something super poetic‚Ä¶ but honestly:
        <br />
        I just want <b>you</b>. Today, and all the little days after.
      </p>

      <div class="row" id="btnRow">
        <button class="yes" id="yesBtn">YES üíñ</button>
        <button class="no" id="noBtn">No üôÉ</button>
      </div>

      <div class="tiny">Tip: open this on your phone for maximum cuteness.</div>
    </section>

    <!-- SCREEN 2 -->
    <section id="screen-yes" class="screen">
      <div class="badge">ü•∞ It‚Äôs a date!</div>
      <h1>Yay!! I‚Äôm the luckiest üíï</h1>
      <p id="personalLine">I can‚Äôt wait to celebrate with you.</p>

      <div class="plan">
        <b>Proposed Valentine Plan:</b>
        <ul>
          <li>üçì Your favorite treat</li>
          <li>üçΩÔ∏è Dinner (my treat)</li>
          <li>üé¨ Cozy movie / something fun</li>
          <li>üì∏ One cute photo together</li>
        </ul>
      </div>

      <div class="footer">
        <button class="linkbtn" id="restartBtn">Replay</button>
        <button class="yes" id="confettiBtn">More hearts üíó</button>
      </div>
    </section>
  </main>

  <script>
    // --- Customize here ---
    const SETTINGS = {
      herName: "My Love", // e.g., "Sofia"
      personalLine: "I choose you. Always. üíû"
    };

    // --- Wire up UI ---
    const herNameEl = document.getElementById("herName");
    const personalLineEl = document.getElementById("personalLine");
    const ask = document.getElementById("screen-ask");
    const yes = document.getElementById("screen-yes");

    herNameEl.textContent = SETTINGS.herName;
    personalLineEl.textContent = SETTINGS.personalLine;

    const yesBtn = document.getElementById("yesBtn");
    const noBtn = document.getElementById("noBtn");

    function showYesScreen() {
      ask.classList.remove("active");
      yes.classList.add("active");
      burstHearts(18);
    }

    yesBtn.addEventListener("click", showYesScreen);

    // ---- NO BUTTON: TELEPORT ANYWHERE ON SCREEN, UNCATCHABLE ----
    noBtn.style.position = "fixed";
    noBtn.style.zIndex = 9999;
    noBtn.setAttribute("tabindex", "-1");

    function teleportNoButton() {
      const padding = 16;
      const rect = noBtn.getBoundingClientRect();

      const maxX = window.innerWidth - rect.width - padding;
      const maxY = window.innerHeight - rect.height - padding;

      const x = padding + Math.random() * Math.max(0, maxX - padding);
      const y = padding + Math.random() * Math.max(0, maxY - padding);

      noBtn.style.left = `${x}px`;
      noBtn.style.top = `${y}px`;
    }

    window.addEventListener("load", teleportNoButton);
    window.addEventListener("resize", teleportNoButton);

    // Desktop: flee when cursor comes near
    document.addEventListener("mousemove", (e) => {
      const r = noBtn.getBoundingClientRect();
      const cx = r.left + r.width / 2;
      const cy = r.top + r.height / 2;
      const dist = Math.hypot(e.clientX - cx, e.clientY - cy);

      if (dist < 170) {
        teleportNoButton();
        // extra chaos (optional)
        setTimeout(teleportNoButton, 25);
      }
    });

    // Mobile: flee on touch
    noBtn.addEventListener("touchstart", (e) => {
      e.preventDefault();
      teleportNoButton();
      setTimeout(teleportNoButton, 25);
    }, { passive: false });

    // Safety net: if clicked somehow
    noBtn.addEventListener("click", (e) => {
      e.preventDefault();
      e.stopPropagation();
      teleportNoButton();
    });

    // ---- Hearts effect ----
    document.getElementById("confettiBtn").addEventListener("click", () => burstHearts(24));

    // Replay
    document.getElementById("restartBtn").addEventListener("click", () => {
      yes.classList.remove("active");
      ask.classList.add("active");
      teleportNoButton();
    });

    function burstHearts(count) {
      for (let i = 0; i < count; i++) {
        const heart = document.createElement("div");
        heart.textContent = ["üíñ","üíò","üíó","üíù","üíï"][Math.floor(Math.random()*5)];
        heart.style.position = "fixed";
        heart.style.left = Math.random() * 100 + "vw";
        heart.style.top = "105vh";
        heart.style.fontSize = (18 + Math.random()*22) + "px";
        heart.style.opacity = 0.95;
        heart.style.filter = "drop-shadow(0 10px 10px rgba(0,0,0,.15))";
        heart.style.transition = "transform 2.2s ease, opacity 2.2s ease";
        document.body.appendChild(heart);

        requestAnimationFrame(() => {
          const rise = 70 + Math.random() * 40;
          const drift = (Math.random() * 2 - 1) * 20;
          heart.style.transform = `translate(${drift}vw, -${rise}vh) rotate(${(Math.random()*60-30)}deg)`;
          heart.style.opacity = 0;
        });

        setTimeout(() => heart.remove(), 2300);
      }
    }
  </script>
</body>
</html>
